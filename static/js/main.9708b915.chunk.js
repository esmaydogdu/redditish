(this.webpackJsonphepsiburada=this.webpackJsonphepsiburada||[]).push([[0],{50:function(t,e,a){},64:function(t,e,a){"use strict";a.r(e);var n,s=a(0),c=a.n(s),i=a(13),r=a.n(i),o=(a(50),a(65)),l=a(40),d=a(66),j=a(16),b=a.p+"static/media/hb-logo.7eb8d2fa.svg",u=a(1),m=function(){return Object(u.jsxs)(o.a,{"data-testid":"navigation-container",className:"navigation-container py-3 px-0 d-flex align-items-center justify-content-between border-bottom",children:[Object(u.jsx)(l.a,{children:Object(u.jsx)(j.b,{"data-testid":"navigation-home-link",to:"/",children:Object(u.jsx)(d.a,{"data-testid":"navigation-logo",alt:"Hepsiburada Logo",src:b})})}),Object(u.jsxs)(l.a,{"data-testid":"navigation-right",className:"navigation-text text-right",children:[Object(u.jsx)("span",{children:"Link"}),Object(u.jsx)("span",{children:"VOTE"}),Object(u.jsx)("span",{children:" Challenge"})]})]})},p=a(74),h=a(67),O=function(){return Object(u.jsx)("div",{"data-testid":"submit-link-wrapper",className:"submit-link-button pb-4",children:Object(u.jsx)(j.b,{"data-testid":"submit-link",to:"/submit",children:Object(u.jsxs)(p.a,{"data-testid":"submit-link-button",className:"w-100 py-1 clearfix",variant:"outline-primary",size:"lg",children:[Object(u.jsx)(h.a,{"data-testid":"submit-link-button-icon"}),Object(u.jsx)("span",{children:"Submit Link"})]})})})},x=a(15),f=a(75),v=a(72),g=a(68),N=a(69),k=a(70),w=a(8);!function(t){t.asc="asc",t.desc="desc",t.page="page"}(n||(n={}));var y=Object(s.createContext)({}),C=function(t){var e=Object(w.f)(),a=Object(s.useState)(JSON.parse(localStorage.getItem("posts")||"[]")),c=Object(x.a)(a,2),i=c[0],r=c[1],o=Object(s.useState)([]),l=Object(x.a)(o,2),d=l[0],j=l[1],b=Object(s.useState)(3),m=Object(x.a)(b,1)[0],p=function(){var t=new URLSearchParams(e.location.search),a=t.get("sort"),s=Number(t.get("page"))||1,c=i.slice();a===n.asc?c.sort((function(t,e){return t.votes-e.votes||e.timestamp-t.timestamp})):a===n.desc?c.sort((function(t,e){return e.votes-t.votes||e.timestamp-t.timestamp})):c.sort((function(t,e){return e.timestamp-t.timestamp})),c=c.slice(s*m-m,s*m),j(c),localStorage.setItem("posts",JSON.stringify(i))};return Object(s.useEffect)((function(){return p(),e.listen(p)}),[i]),Object(u.jsx)(y.Provider,{value:{posts:i,setPosts:r,filteredPosts:d,perPage:m,handleClickDeletePost:function(t){var a=i.filter((function(e){return e.timestamp!==t}));r(a);var n=new URLSearchParams(e.location.search),s=Number(n.get("page"));0===(a=a.slice(s*m-m,s*m)).length&&(n.set("page","1"),e.push({pathname:"/",search:n.toString()}))},handleClickUpvote:function(t){r(i.map((function(e){return e.timestamp===t&&e.votes++,e})))},handleClickDownvote:function(t){r(i.map((function(e){return e.timestamp===t&&e.votes--,e})))}},children:t.children})},P=function(){var t=Object(s.useContext)(y);if(void 0===t)throw new Error("usePosts must be used within a PostsProvider");return t},S=function(t){var e=t.timestamp,a=t.votes,n=t.name,c=t.url,i=P(),r=i.handleClickDeletePost,o=i.handleClickUpvote,l=i.handleClickDownvote,d=Object(s.useState)(!1),j=Object(x.a)(d,2),b=j[0],m=j[1],h=function(){return m(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(f.a,{"data-testid":"post-container",className:"mt-2 border post-container d-flex flex-row p-3",children:[Object(u.jsxs)("div",{"data-testid":"post-votes-container",className:"py-1 px-2 votes-container d-flex flex-column align-items-center justify-content-center border rounded",children:[Object(u.jsx)("p",{className:"m-0 h3 font-weight-bolder",children:a}),Object(u.jsx)("p",{className:"m-0",children:"POINTS"})]}),Object(u.jsxs)(f.a.Body,{className:"py-0",children:[Object(u.jsx)(f.a.Title,{"data-testid":"post-name",className:"mb-1",children:n}),Object(u.jsxs)(f.a.Text,{"data-testid":"post-url",children:["(",c,")"]}),Object(u.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-center",children:[Object(u.jsxs)("button",{"data-testid":"post-upvote-button",onClick:function(){return o(e)},className:"vote-button text-secondary border-0 bg-transparent",children:[Object(u.jsx)(g.a,{}),Object(u.jsx)("span",{children:"Up Vote"})]}),Object(u.jsxs)("button",{"data-testid":"post-downvote-button",onClick:function(){return l(e)},className:"vote-button text-secondary border-0 bg-transparent  ",children:[Object(u.jsx)(N.a,{}),Object(u.jsx)("span",{children:"Down Vote"})]})]})]}),Object(u.jsx)(k.a,{"data-testid":"post-delete-button",onClick:function(){return m(!0)},className:"remove-icon text-danger"})]}),Object(u.jsxs)(v.a,{"data-testid":"post-modal",show:b,onHide:h,children:[Object(u.jsx)(v.a.Header,{closeButton:!0,children:Object(u.jsx)(v.a.Title,{"data-testid":"post-modal-title",children:"Remove Link"})}),Object(u.jsxs)(v.a.Body,{"data-testid":"post-modal-body",children:[Object(u.jsx)("p",{children:"Do you want to remove:"}),Object(u.jsx)("h1",{children:n})]}),Object(u.jsxs)(v.a.Footer,{children:[Object(u.jsx)(p.a,{"data-testid":"post-modal-button-close",onClick:h,variant:"secondary",children:"No"}),Object(u.jsx)(p.a,{"data-testid":"post-modal-button-delete",onClick:function(){r(e),m(!1)},variant:"primary",children:"Yes"})]})]})]})},L=function(){return Object(u.jsx)("h1",{children:"sort dropdown"})},D=function(){return Object(u.jsx)("h1",{children:"pagination"})},T=a(44),F=function(){var t=P().filteredPosts;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(L,{}),t.map((function(t){return Object(u.jsx)(S,Object(T.a)({},t),t.timestamp)})),Object(u.jsx)(D,{})]})},I=a(43),U=a(73),B=a(23),R=function(){var t=P(),e=t.posts,a=t.setPosts,n=Object(s.useState)(""),c=Object(x.a)(n,2),i=c[0],r=c[1],o=Object(s.useState)(""),l=Object(x.a)(o,2),d=l[0],j=l[1],b=Object(s.useState)(!1),m=Object(x.a)(b,2),h=m[0],O=m[1],f=Object(B.useToasts)().addToast;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(U.a,{"data-testid":"form-container",className:"clearfix",noValidate:!0,validated:h,onSubmit:function(t){if(t.preventDefault(),!1===t.currentTarget.checkValidity())return t.stopPropagation(),void O(!0);O(!1),a([].concat(Object(I.a)(e),[{timestamp:Date.now(),name:i,url:d,votes:0}])),r(""),j(""),f("".concat(i," ADDED"),{appearance:"success",autoDismiss:!0})},children:[Object(u.jsx)("h2",{className:"my-4",children:"Add a new link"}),Object(u.jsxs)(U.a.Group,{className:"mb-3",controlId:"",children:[Object(u.jsx)(U.a.Label,{children:"Link Name"}),Object(u.jsx)(U.a.Control,{"data-testid":"form-control-name",value:i,onChange:function(t){r(t.target.value)},type:"text",placeholder:"Link Name",minLength:2,maxLength:100,required:!0}),Object(u.jsx)(U.a.Control.Feedback,{"data-testid":"name-invalid",type:"invalid",children:"Please enter a link name."})]}),Object(u.jsxs)(U.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(u.jsx)(U.a.Label,{children:"Link URL"}),Object(u.jsx)(U.a.Control,{"data-testid":"form-control-url",value:d,onChange:function(t){j(t.target.value)},type:"url",placeholder:"Link URL",required:!0}),Object(u.jsx)(U.a.Control.Feedback,{"data-testid":"url-invalid",type:"invalid",children:"Please enter a url."})]}),Object(u.jsx)(p.a,{"data-testid":"form-submit-button",variant:"primary",type:"submit",size:"lg",className:"float-right",children:"Submit"})]})})},E=function(){return Object(u.jsxs)("div",{className:"page-wrapper mt-5",children:[Object(u.jsx)(O,{}),Object(u.jsx)(F,{})]})},V=a(71),J=function(){return Object(u.jsxs)("div",{className:"page-wrapper mt-3",children:[Object(u.jsxs)(j.b,{to:"/",className:"d-flex align-items-center font-weight-bold",children:[Object(u.jsx)(V.a,{className:"mr-2"}),"Return to list"]}),Object(u.jsx)(R,{})]})},A=function(){return Object(u.jsx)("h1",{children:"404 not found"})};var H=function(){return Object(u.jsx)("div",{className:"App pb-4 px-4",children:Object(u.jsxs)(j.a,{children:[Object(u.jsx)(m,{}),Object(u.jsx)(C,{children:Object(u.jsx)(B.ToastProvider,{autoDismiss:!0,autoDismissTimeout:3e3,placement:"top-center",children:Object(u.jsxs)(w.c,{children:[Object(u.jsx)(w.a,{path:"/submit",children:Object(u.jsx)(J,{})}),Object(u.jsx)(w.a,{path:"/",exact:!0,children:Object(u.jsx)(E,{})}),Object(u.jsx)(w.a,{component:A})]})})})]})})},q=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,76)).then((function(e){var a=e.getCLS,n=e.getFID,s=e.getFCP,c=e.getLCP,i=e.getTTFB;a(t),n(t),s(t),c(t),i(t)}))};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(H,{})}),document.getElementById("root")),q()}},[[64,1,2]]]);
//# sourceMappingURL=main.9708b915.chunk.js.map