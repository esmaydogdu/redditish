(this.webpackJsonphepsiburada=this.webpackJsonphepsiburada||[]).push([[0],{38:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var a,s=n(0),c=n.n(s),i=n(15),r=n.n(i),o=(n(38),n(48)),l=n(29),d=n(49),j=n(14),b=n.p+"static/media/hb-logo.7eb8d2fa.svg",u=n(1),m=function(){return Object(u.jsxs)(o.a,{"data-testid":"navigation-container",className:"navigation-container py-3 px-0 d-flex align-items-center justify-content-between border-bottom",children:[Object(u.jsx)(l.a,{children:Object(u.jsx)(j.b,{"data-testid":"navigation-home-link",to:"/",children:Object(u.jsx)(d.a,{"data-testid":"navigation-logo",alt:"Hepsiburada Logo",src:b})})}),Object(u.jsxs)(l.a,{"data-testid":"navigation-right",className:"navigation-text text-right",children:[Object(u.jsx)("span",{children:"Link"}),Object(u.jsx)("span",{children:"VOTE"}),Object(u.jsx)("span",{children:" Challenge"})]})]})},h=n(57),p=n(50),x=function(){return Object(u.jsx)("div",{"data-testid":"submit-link-wrapper",className:"submit-link-button pb-4",children:Object(u.jsx)(j.b,{"data-testid":"submit-link",to:"/submit",children:Object(u.jsxs)(h.a,{"data-testid":"submit-link-button",className:"w-100 py-1 clearfix",variant:"outline-primary",size:"lg",children:[Object(u.jsx)(p.a,{"data-testid":"submit-link-button-icon"}),Object(u.jsx)("span",{children:"Submit Link"})]})})})},O=n(13),f=n(58),v=n(55),g=n(51),N=n(52),k=n(53),w=n(7);!function(t){t.asc="asc",t.desc="desc",t.page="page"}(a||(a={}));var y=Object(s.createContext)({}),C=function(t){var e=Object(w.f)(),n=Object(s.useState)(JSON.parse(localStorage.getItem("posts")||"[]")),c=Object(O.a)(n,2),i=c[0],r=c[1],o=Object(s.useState)([]),l=Object(O.a)(o,2),d=l[0],j=l[1],b=Object(s.useState)(3),m=Object(O.a)(b,1)[0],h=function(){var t=new URLSearchParams(e.location.search),n=t.get("sort"),s=Number(t.get("page"))||1,c=i.slice();n===a.asc?c.sort((function(t,e){return t.votes-e.votes||e.timestamp-t.timestamp})):n===a.desc?c.sort((function(t,e){return e.votes-t.votes||e.timestamp-t.timestamp})):c.sort((function(t,e){return e.timestamp-t.timestamp})),c=c.slice(s*m-m,s*m),j(c),localStorage.setItem("posts",JSON.stringify(i))};return Object(s.useEffect)((function(){return h(),e.listen(h)}),[i]),Object(u.jsx)(y.Provider,{value:{posts:i,setPosts:r,filteredPosts:d,perPage:m,handleClickDeletePost:function(t){var n=i.filter((function(e){return e.timestamp!==t}));r(n);var a=new URLSearchParams(e.location.search),s=Number(a.get("page"));0===(n=n.slice(s*m-m,s*m)).length&&(a.set("page","1"),e.push({pathname:"/",search:a.toString()}))},handleClickUpvote:function(t){r(i.map((function(e){return e.timestamp===t&&e.votes++,e})))},handleClickDownvote:function(t){r(i.map((function(e){return e.timestamp===t&&e.votes--,e})))}},children:t.children})},P=function(){var t=Object(s.useContext)(y);if(void 0===t)throw new Error("usePosts must be used within a PostsProvider");return t},S=function(t){var e=t.timestamp,n=t.votes,a=t.name,c=t.url,i=P(),r=i.handleClickDeletePost,o=i.handleClickUpvote,l=i.handleClickDownvote,d=Object(s.useState)(!1),j=Object(O.a)(d,2),b=j[0],m=j[1],p=function(){return m(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(f.a,{"data-testid":"post-container",className:"mt-2 border post-container d-flex flex-row p-3",children:[Object(u.jsxs)("div",{"data-testid":"post-votes-container",className:"py-1 px-2 votes-container d-flex flex-column align-items-center justify-content-center border rounded",children:[Object(u.jsx)("p",{className:"m-0 h3 font-weight-bolder",children:n}),Object(u.jsx)("p",{className:"m-0",children:"POINTS"})]}),Object(u.jsxs)(f.a.Body,{className:"py-0",children:[Object(u.jsx)(f.a.Title,{"data-testid":"post-name",className:"mb-1",children:a}),Object(u.jsxs)(f.a.Text,{"data-testid":"post-url",children:["(",c,")"]}),Object(u.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-center",children:[Object(u.jsxs)("button",{"data-testid":"post-upvote-button",onClick:function(){return o(e)},className:"vote-button text-secondary border-0 bg-transparent",children:[Object(u.jsx)(g.a,{}),Object(u.jsx)("span",{children:"Up Vote"})]}),Object(u.jsxs)("button",{"data-testid":"post-downvote-button",onClick:function(){return l(e)},className:"vote-button text-secondary border-0 bg-transparent  ",children:[Object(u.jsx)(N.a,{}),Object(u.jsx)("span",{children:"Down Vote"})]})]})]}),Object(u.jsx)(k.a,{"data-testid":"post-delete-button",onClick:function(){return m(!0)},className:"remove-icon text-danger"})]}),Object(u.jsxs)(v.a,{"data-testid":"post-modal",show:b,onHide:p,children:[Object(u.jsx)(v.a.Header,{closeButton:!0,children:Object(u.jsx)(v.a.Title,{"data-testid":"post-modal-title",children:"Remove Link"})}),Object(u.jsxs)(v.a.Body,{"data-testid":"post-modal-body",children:[Object(u.jsx)("p",{children:"Do you want to remove:"}),Object(u.jsx)("h1",{children:a})]}),Object(u.jsxs)(v.a.Footer,{children:[Object(u.jsx)(h.a,{"data-testid":"post-modal-button-close",onClick:p,variant:"secondary",children:"No"}),Object(u.jsx)(h.a,{"data-testid":"post-modal-button-delete",onClick:function(){r(e),m(!1)},variant:"primary",children:"Yes"})]})]})]})},L=function(){return Object(u.jsx)("h1",{children:"sort dropdown"})},F=function(){return Object(u.jsx)("h1",{children:"pagination"})},D=n(33),T=function(){var t=P().filteredPosts;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(L,{}),t.map((function(t){return Object(u.jsx)(S,Object(D.a)({},t),t.timestamp)})),Object(u.jsx)(F,{})]})},I=n(32),U=n(56),B=function(){var t=P(),e=t.posts,n=t.setPosts,a=Object(s.useState)(""),c=Object(O.a)(a,2),i=c[0],r=c[1],o=Object(s.useState)(""),l=Object(O.a)(o,2),d=l[0],j=l[1],b=Object(s.useState)(!1),m=Object(O.a)(b,2),p=m[0],x=m[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(U.a,{"data-testid":"form-container",className:"clearfix",noValidate:!0,validated:p,onSubmit:function(t){if(t.preventDefault(),!1===t.currentTarget.checkValidity())return t.stopPropagation(),void x(!0);x(!1),n([].concat(Object(I.a)(e),[{timestamp:Date.now(),name:i,url:d,votes:0}])),r(""),j("")},children:[Object(u.jsx)("h2",{className:"my-4",children:"Add a new link"}),Object(u.jsxs)(U.a.Group,{className:"mb-3",controlId:"",children:[Object(u.jsx)(U.a.Label,{children:"Link Name"}),Object(u.jsx)(U.a.Control,{"data-testid":"form-control-name",value:i,onChange:function(t){r(t.target.value)},type:"text",placeholder:"Link Name",minLength:2,maxLength:100,required:!0}),Object(u.jsx)(U.a.Control.Feedback,{"data-testid":"name-invalid",type:"invalid",children:"Please enter a link name."})]}),Object(u.jsxs)(U.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(u.jsx)(U.a.Label,{children:"Link URL"}),Object(u.jsx)(U.a.Control,{"data-testid":"form-control-url",value:d,onChange:function(t){j(t.target.value)},type:"url",placeholder:"Link URL",required:!0}),Object(u.jsx)(U.a.Control.Feedback,{"data-testid":"url-invalid",type:"invalid",children:"Please enter a url."})]}),Object(u.jsx)(h.a,{"data-testid":"form-submit-button",variant:"primary",type:"submit",size:"lg",className:"float-right",children:"Submit"})]})})},R=function(){return Object(u.jsxs)("div",{className:"page-wrapper mt-5",children:[Object(u.jsx)(x,{}),Object(u.jsx)(T,{})]})},V=n(54),E=function(){return Object(u.jsxs)("div",{className:"page-wrapper mt-3",children:[Object(u.jsxs)(j.b,{to:"/",className:"d-flex align-items-center font-weight-bold",children:[Object(u.jsx)(V.a,{className:"mr-2"}),"Return to list"]}),Object(u.jsx)(B,{})]})},J=function(){return Object(u.jsx)("h1",{children:"404 not found"})};var H=function(){return Object(u.jsx)("div",{className:"App pb-4 px-4",children:Object(u.jsxs)(j.a,{children:[Object(u.jsx)(m,{}),Object(u.jsx)(C,{children:Object(u.jsxs)(w.c,{children:[Object(u.jsx)(w.a,{path:"/submit",children:Object(u.jsx)(E,{})}),Object(u.jsx)(w.a,{path:"/",exact:!0,children:Object(u.jsx)(R,{})}),Object(u.jsx)(w.a,{component:J})]})})]})})},q=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),s(t),c(t),i(t)}))};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(H,{})}),document.getElementById("root")),q()}},[[46,1,2]]]);
//# sourceMappingURL=main.3a1c3039.chunk.js.map